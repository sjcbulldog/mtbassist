<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>ModusToolbox Assistant – User Manual</title>
  <style>
    :root { --bg: #1e1e1e; --bg2:#252526; --text:#e0e0e0; --muted:#c7c7c7; --card:#2d2d30; --line:#3e3e42; --pri:#1976d2; --pri2:#42a5f5; --acc:#64b5f6; --ok:#81c784; --warn:#ffb74d; --bad:#ef5350; }
    @media (prefers-color-scheme: light) {
      :root { --bg:#ffffff; --bg2:#f7f7f7; --text:#333333; --muted:#555; --card:#ffffff; --line:#ddd; --pri:#1976d2; --pri2:#42a5f5; --acc:#1565c0; --ok:#2e7d32; --warn:#f57c00; --bad:#c62828; }
      .header { color:#fff; }
    }
    body { margin:0; font-family:"Segoe UI",Tahoma,Geneva,Verdana,sans-serif; background:var(--bg); color:var(--text); }
    .container { max-width:1200px; margin:0 auto; padding:24px; background:var(--bg2); }
    .header { background:linear-gradient(135deg,var(--pri),var(--pri2)); padding:28px 24px; margin:-24px -24px 24px -24px; }
    .header h1 { margin:0; font-size:2.2rem; }
    .header p { margin:8px 0 0 0; opacity:.9; }
    .toc { background:var(--card); border:1px solid var(--line); border-radius:8px; padding:16px 20px; margin:16px 0 28px; }
    .toc h3 { margin:0 0 8px; color:var(--pri2); }
    .toc ul { list-style:none; padding-left:0; columns:2; gap:24px; }
    .toc li { margin:6px 0; }
    .toc a { color:var(--pri2); text-decoration:none; }
    .toc a:hover { text-decoration:underline; color:var(--acc); }
    .section { padding:16px 0 8px; border-bottom:1px solid var(--line); }
    .section:last-child { border-bottom:none; }
    h2 { color:var(--pri2); border-bottom:2px solid var(--pri); padding-bottom:8px; }
    h3 { color:var(--acc); margin-top:20px; }
    h4 { color:var(--ok); margin-top:14px; }
    .grid { display:grid; grid-template-columns:repeat(auto-fit,minmax(260px,1fr)); gap:16px; }
    .card { background:var(--card); border:1px solid var(--line); border-radius:8px; padding:16px; }
    .note { background:rgba(25,118,210,.10); border-left:4px solid var(--pri2); padding:10px 14px; margin:12px 0; }
    .warn { background:rgba(245,124,0,.10); border:1px dashed var(--warn); padding:12px 14px; border-radius:6px; }
    .kbd { font-family:Consolas,monospace; background:var(--card); border:1px solid var(--line); border-radius:4px; padding:2px 6px; }
    code, pre { background:var(--card); border:1px solid var(--line); border-radius:6px; }
    code { padding:2px 6px; }
    pre { padding:12px; overflow:auto; }
    .pill { display:inline-block; background:var(--card); border:1px solid var(--line); padding:2px 8px; border-radius:999px; margin-right:6px; }
    table { border-collapse:collapse; width:100%; }
    th, td { border:1px solid var(--line); padding:8px 10px; text-align:left; }
    th { background:var(--card); }
  </style>
</head>
<body>
  <div class="container">
    <div class="header">
      <h1>ModusToolbox Assistant – User Manual</h1>
      <p>Everything you need to create, configure, and maintain ModusToolbox applications inside VS Code.</p>
    </div>

    <div class="toc">
      <h3>Table of Contents</h3>
      <ul>
        <li><a href="#intro">1. Overview & Requirements</a></li>
        <li><a href="#install">2. Installation & First Run</a></li>
        <li><a href="#ui">3. UI Tour & Navigation</a></li>
        <li><a href="#projects">4. Create Project Wizard</a></li>
        <li><a href="#status">5. Application Status & Actions</a></li>
        <li><a href="#recents">6. Recently Opened</a></li>
        <li><a href="#lcs">7. Local Content Storage (BSPs)</a></li>
        <li><a href="#software">8. Software & Tool Installation</a></li>
        <li><a href="#llvm">9. LLVM Installer</a></li>
        <li><a href="#devkits">10. DevKit Management</a></li>
        <li><a href="#settings">11. Settings & Preferences</a></li>
        <li><a href="#docs">12. Documentation & Help</a></li>
        <li><a href="#memory">13. Memory Usage View</a></li>
        <li><a href="#commands">14. Commands, Menus & Shortcuts</a></li>
        <li><a href="#troubleshooting">15. Troubleshooting</a></li>
        <li><a href="#faq">16. FAQ</a></li>
        <li><a href="#about">17. About</a></li>
      </ul>
    </div>

    <section id="intro" class="section">
      <h2>1. Overview & Requirements</h2>
      <p>ModusToolbox Assistant integrates Infineon ModusToolbox workflows into VS Code. It provides project creation, BSP/content management, device kit awareness, tool installation, and deep IDE integration.</p>
      <div class="grid">
        <div class="card">
          <h4>Main Capabilities</h4>
          <ul>
            <li>Create ModusToolbox applications from BSPs and code examples</li>
            <li>Manage local BSP content for online/offline use</li>
            <li>Inspect application status, fix tasks/settings, rebuild</li>
            <li>Install ModusToolbox tools and the LLVM toolchain</li>
            <li>Manage connected DevKits and update firmware</li>
            <li>Browse documentation, examples, and community links</li>
            <li>Configure extension and workspace settings</li>
          </ul>
        </div>
        <div class="card">
          <h4>Prerequisites</h4>
          <ul>
            <li>VS Code 1.71.0 or later</li>
            <li>ModusToolbox 3.2+ (not compatible with 2.x, 3.0, or 3.1)</li>
            <li>Recommended extensions: <span class="pill">clangd</span> <span class="pill">Cortex-Debug</span></li>
            <li>Toolchains and utilities can be installed from inside the extension</li>
            <li>Optional: Internet access to fetch manifests/BSPs</li>
          </ul>
        </div>
      </div>
    </section>

    <section id="install" class="section">
      <h2>2. Installation & First Run</h2>
      <ol>
        <li>Open the Extensions view (<span class="kbd">Ctrl</span>+<span class="kbd">Shift</span>+<span class="kbd">X</span>) and search for <strong>ModusToolbox Assistant</strong>.</li>
        <li>Click <strong>Install</strong> and reload VS Code when prompted.</li>
      </ol>
      <div class="note">If you're behind a proxy/firewall, configure network access in VS Code or system settings before first use. For fully offline operation, enable Local Content mode and populate BSPs in <a href="#lcs">Local Content Storage</a>.</div>
    </section>

    <section id="ui" class="section">
      <h2>3. UI Tour & Navigation</h2>
      <p>By default, the ModusToolbox Assistant page is displayed when Visual Studio Code is opened. 
        This can be changed in the Visual Studio preferences to never open automatically, or only open when a ModusToolbox application is loaded.
        The UI is tabbed and responsive to VS Code dark/light themes.</p>
      <div class="grid">
        <div class="card">
          <h4>Main Tabs</h4>
          <ul>
            <li>Getting Started – Orientation, quick steps, and feature overview</li>
            <li>Create Project – 4‑step wizard for new applications</li>
            <li>Recently Opened – Jump back into recent apps</li>
            <li>Application – Project health, build/program/erase, memory</li>
            <li>DevKit List – Connected kits and BSP association</li>
            <li>Local Content Storage – Manage BSP packages (offline mode)</li>
            <li>Settings – Extension/workspace preferences</li>
            <li>Glossary – ModusToolbox Terminology and definitions</li>
            <li>User Guide – Built‑in documentation</li>
          </ul>
        </div>
      </div>
    </section>

    <section id="projects" class="section">
      <h2>4. Create Project Wizard</h2>
      <p>Use the guided wizard to create a new ModusToolbox application based on a Board Support Package (BSP) and optional code examples.</p>
      <h3>Steps</h3>
      <ol>
        <li><strong>Project Information</strong>: Enter application name and location (validation enforces safe names/paths); choose configuration (Debug/Release).</li>
        <li><strong>BSP Selection</strong>: Pick a BSP from available boards. Categories, search, and manifest status help narrow the list.</li>
        <li><strong>Example Selection</strong>: Browse by category; select one or more examples to include.</li>
        <li><strong>Review & Create</strong>: Confirm summary and create the application. Progress and any errors are streamed from the backend.</li>
      </ol>
    </section>

    <section id="status" class="section">
      <h2>5. Application Status & Actions</h2>
      <p>Aggregates project details, tools, middleware, documentation, and memory snapshots. Provides one‑click fixes when tasks/settings are missing or out of date.</p>
      <div class="grid">
        <div class="card">
          <h4>What You See</h4>
          <ul>
            <li>Project list with missing asset indicators and details</li>
            <li>Tools and middleware detected for each project</li>
            <li>Documentation links per project and globally</li>
            <li>Current configuration and theme awareness</li>
          </ul>
        </div>
        <div class="card">
          <h4>Actions</h4>
          <ul>
            <li>Automatically create file required for Visual Studio Code support if they are missing</li>
            <li>Update VS Code tasks and settings as needed by the extension</li>
            <li>Open project folder or README</li>
            <li>Run build actions: <em>Build</em>, <em>Rebuild</em>, <em>Clean</em></li>
            <li>Program options: <em>Program</em> or <em>Quick Program</em> (toggle via menu)</li>
            <li>Erase options: <em>Erase</em> (internal) or <em>Erase All</em> (internal + external) (toggle via menu)</li>
            <li>Launch tools: <em>Device Configurator</em>, <em>Library Manager</em></li>
            <li>Quick Tasks: run curated tasks (if available)</li>
            <li>Refresh application and rescan environment</li>
          </ul>
        </div>
      </div>
      <h3>Build/Program/Erase Controls</h3>
      <ul>
        <li>Left‑click executes the current choice. Right‑click opens a menu to toggle modes (e.g., Program vs. Quick Program; Erase vs. Erase All).</li>
        <li>Missing Assets banner provides <em>Fix</em> actions to restore assets required for a sucessful build.</li>
      </ul>
      <p class="note">For memory analysis, see <a href="#memory">Memory Usage View</a>.</p>
    </section>

    <section id="recents" class="section">
      <h2>6. Recently Opened</h2>
      <p>Track and reopen recent applications with timestamps and BSP metadata. Use <em>Open</em></p>
    </section>

    <section id="lcs" class="section">
      <h2>7. Local Content Storage</h2>
      <p>Manage locally stored content for offline development. Content is selected by selecting specific BSPs.  All content associated with a BSP is included.</p>
      <ul>
        <li>Two lists: <em>Not In Local Storage</em> and <em>In Local Storage</em>; drag & drop BSPs between lists</li>
        <li>Bulk operations: <em>Move All To Local</em>, <em>Remove All From Local</em>, <em>Revert</em></li>
        <li>Updates: <em>Check For Updates (in current content in Local Storage)</em> and <em>Update Existing Content</em></li>
      </ul>
      <div class="note">The assistant computes <em>in</em>/<em>not in</em> lists against the active manifest and indicates when updates are needed. In <em>Local Content</em> operating mode, the manifest is read from your LCS path.</div>
    </section>

    <section id="devkits" class="section">
      <h2>8. DevKit Management</h2>
      <p>Enumerate connected Infineon development kits, show firmware versions, features, bridging types, and BSP association.</p>
      <ul>
        <li>Update kit firmware when out of date</li>
        <li>Associate or change BSP for a connected kit</li>
        <li>Monitor USB mode and KitProg type</li>
      </ul>
    </section>

    <section id="settings" class="section">
      <h2>9. Settings & Preferences</h2>
      <p>Configure both assistant and workspace settings with validation and inline tips.</p>
      <ul>
        <li>Ownership: <span class="pill">Modus</span> <span class="pill">Extension</span> <span class="pill">Workspace</span></li>
        <li>Types: string, number, boolean, choice, URI, directory path, file path, tools path</li>
        <li>Automatic read/write to VS Code global/workspace state</li>
        <li>Choice settings display helpful tips next to each option</li>
        <li>Conditional enablement, e.g. <em>proxy_server</em> disabled when <em>proxy_mode</em>=direct</li>
        <li>Manifest DB URL Mode: <em>default</em>, <em>china</em>, or <em>custom</em> (shows custom URL field)</li>
        <li>Local Content Mode: set <em>operating_mode</em>=Local Content and choose <em>lcs_path</em></li>
        <li>Toolchain: select versions, or set <em>toolsversion</em>=Custom to enable <em>custompath</em></li>
        <li>Quick‑fixes for invalid paths and configuration mismatches</li>
      </ul>
      <h3>Auto‑display</h3>
      <p>Setting: <code>mtbassist2.autodisplay</code> – choose when the main page appears automatically on startup.</p>
    </section>

    <section id="docs" class="section">
      <h2>10. Documentation & Help</h2>
      <ul>
        <li>Open <em>Getting Started</em> and <em>Documentation</em> links in your external browser</li>
        <li>Browse code examples on GitHub</li>
        <li>Visit the ModusToolbox community forums</li>
        <li>Built‑in User Guide (this page) with dark/light theme support</li>
      </ul>
    </section>

    <section id="memory" class="section">
      <h2>11. Memory Usage View</h2>
      <p>Visualize application memory in a 3‑level hierarchy: Physical Memory → Regions → Segments. Inspect names, start addresses, sizes, and section stacks per segment.</p>
      <h3>Display Details</h3>
      <ul>
        <li>Top summary shows overall physical memory usage with a <em>devices</em> icon and tooltip.</li>
        <li>Each Region shows its own usage with a <em>person</em> icon and tooltip.</li>
        <li>Segments display sizes and details; percentage is not shown (displayed as “–”).</li>
      </ul>
      <h3>Expand/Collapse Behavior</h3>
      <ul>
        <li>Default: top‑level sections are expanded; regions are collapsed.</li>
        <li>Use <em>Expand All</em> / <em>Collapse All</em> to toggle the view; collapsing keeps the top level open.</li>
      </ul>
    </section>

    <section id="commands" class="section">
      <h2>12. Commands, Menus & Shortcuts</h2>
      <h3>Commands</h3>
      <ul>
        <li><code>ModusToolbox Assistant: Show Main Page</code> – open the assistant</li>
        <li><code>ModusToolbox Assistant: Set Intellisense Project</code> – select the active project for IntelliSense</li>
        <li><code>ModusToolbox Assistant: Display documentation for symbol</code> – context‑menu action in C files</li>
      </ul>
      <h3>Context Menu</h3>
      <p>In C files, right‑click and choose <em>Display documentation for symbol</em> to open relevant docs.</p>
      <h3>Terminal Profile</h3>
      <p>Profile: <code>ModusToolbox Shell</code> – use for environment‑aware shell sessions.</p>
      <h3>Keybindings</h3>
      <ul>
        <li><span class="kbd">Ctrl</span>+<span class="kbd">Shift</span>+<span class="kbd">F1</span> – Display documentation for symbol</li>
      </ul>
    </section>

    <section id="troubleshooting" class="section">
      <h2>13. Troubleshooting</h2>
      <h3>Common Issues</h3>
      <ul>
        <li><strong>Tools location errors</strong>: Verify the tools path in Settings and permissions.</li>
        <li><strong>Missing assets</strong>: Use the <em>Fix</em> actions in Application Status to restore tasks/settings.</li>
        <li><strong>Manifest not available</strong>: Check network/proxy or switch to Local Content mode with LCS populated.</li>
        <li><strong>Build issues</strong>: Review the Output panel, ensure compilers (LLVM) are installed.</li>
        <li><strong>Buttons not appearing</strong>: Rebuild the extension content and reload the VS Code window to refresh the webview.</li>
      </ul>
      <h3>Where to Look</h3>
      <ul>
        <li>VS Code Output: <em>ModusToolbox</em> channel</li>
        <li>Developer Tools Console (Help → Toggle Developer Tools)</li>
        <li>Extension logs and progress notifications in the UI</li>
      </ul>
    </section>

    <section id="faq" class="section">
      <h2>14. FAQ</h2>
      <h4>Does the assistant work offline?</h4>
      <p>Yes, when BSPs are available in Local Content Storage and cached manifests are present. Some features (example fetching) may require connectivity.</p>
      <h4>Can I change the default tools install path?</h4>
      <p>Yes, configure the tools path in Settings. The installer will honor this location.</p>
      <h4>How do I switch the IntelliSense project?</h4>
      <p>Use the command palette entry <em>Set Intellisense Project</em> or the control within Application Status if present.</p>
    </section>

    <section id="about" class="section">
      <h2>16. About</h2>
      <p><strong>Version:</strong> 2.x (see VS Code Extensions view for the exact version).</p>
      <p>Copyright © C And T Software. Licensed under the Apache License 2.0.</p>
    </section>
  </div>
</body>
</html>
