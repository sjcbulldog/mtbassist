<div class="recently-opened-container" [class.dark-theme]="themeType === 'dark'" [class.light-theme]="themeType === 'light'">
  <h2>Recently Opened Applications</h2>
  <div *ngFor="let group of groupedRecents">
    <div class="recent-group-header" (click)="toggleCollapse(group)">
      <mat-icon>{{ group.collapsed ? 'expand_more' : 'expand_less' }}</mat-icon>
      <span>{{ group.label }}</span>
      <span class="count">({{ group.entries.length }})</span>
    </div>
    <div class="recent-group-list" *ngIf="!group.collapsed">
      <div class="recent-entry" *ngFor="let entry of group.entries" (click)="openRecent(entry)">
        <mat-icon>folder_open</mat-icon>
        <span class="recent-path">{{ entry.apppath }}</span>
        <span class="recent-bsp" *ngIf="entry.bspname">[{{ entry.bspname }}]</span>
        <span class="recent-date">{{ entry.lastopened | date:'medium' }}</span>
      </div>
    </div>
  </div>
  <div *ngIf="groupedRecents.length === 0" class="no-recents">
    <mat-icon>history</mat-icon>
    <span>No recently opened applications.</span>
  </div>
</div>
