<div class="install-choice-container">
  <p class="intro-text">Pick a method for installing ModusToolbox and related tools</p>

  <div class="cards-wrapper">

    <!-- Home Install Card -->
    <mat-card class="choice-card" 
              [class.selected]="isSelected('home')" 
              [class.disabled]="homeError" 
              (click)="select('home')">
      <div class="card-content">
        <div class="card-header">
          <mat-icon>home</mat-icon>
          <h3>Install Under Home Directory</h3>
        </div>
        <p class="card-description">
          Install ModusToolbox under your home directory on this machine.  Other related tools will be installed in their default location.
        </p>
      </div>
      @if (homeWarning && !homeError) {
        <div class="warning-text">{{ homeWarning }}</div>
      }
      @if (homeError) {
        <div class="error-text">{{ homeError }}</div>
      }
    </mat-card>

    <!-- Custom Install Card -->
    <mat-card class="choice-card" 
              [class.selected]="isSelected('custom')" 
              [class.disabled]="customError" 
              (click)="select('custom')">
      <div class="card-content">
        <div class="card-header">
          <mat-icon>folder_open</mat-icon>
          <h3>Install In Custom Directory</h3>
        </div>
        <p class="card-description">
          Install ModusToolbox and related tools in a directory of your choosing.  This directory should not contain any spaces as ModusToolbox does not work properly with spaces in the path.  The ModusToolbox Assistant extension will remember this directory and automatically find tools when necessary.
        </p>
        <div class="custom-path-row" (click)="$event.stopPropagation()">
          <mat-form-field appearance="outline" class="path-field">
            <mat-label>Custom Install Path</mat-label>
            <input matInput 
                   [disabled]="customError !== undefined" 
                   [ngModel]="customPath" 
                   (ngModelChange)="onCustomPathInput($event)"
                   placeholder="Path to tools directory" />
          </mat-form-field>
          <button mat-raised-button 
                  color="primary" 
                  (click)="onBrowse()" 
                  [disabled]="customError">
            <mat-icon>folder</mat-icon>&nbsp;Browse
          </button>
        </div>
      </div>
      @if (customWarning && !customError) {
        <div class="warning-text">{{ customWarning }}</div>
      }
      @if (customError) {
        <div class="error-text">{{ customError }}</div>
      }
    </mat-card>

  </div>
  <div class="actions-row">
    <button mat-raised-button color="primary"
            (click)="onNext()" 
            [disabled]="!selected || (selected === 'custom' && !customPath) || homeError && selected==='home' || customError && selected==='custom'">
      Next
    </button>
  </div>
</div>
